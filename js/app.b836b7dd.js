(function(){"use strict";var e={6993:function(e,t,n){var o=n(5130),r=n(6768);const a={id:"app"},u={class:"header"};function l(e,t,n,o,l,d){const i=(0,r.g2)("router-link"),c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("header",u,[t[5]||(t[5]=(0,r.Lk)("h1",null,"🍰 Sweet Dreams 🍰",-1)),(0,r.Lk)("nav",null,[(0,r.bF)(i,{to:"/"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Home")]))),_:1,__:[0]}),t[3]||(t[3]=(0,r.eW)(" | ")),(0,r.bF)(i,{to:"/produtos"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Gerenciar Produtos")]))),_:1,__:[1]}),t[4]||(t[4]=(0,r.eW)(" | ")),(0,r.bF)(i,{to:"/pedidos"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Gerenciar Pedidos")]))),_:1,__:[2]})])]),(0,r.Lk)("main",null,[(0,r.bF)(c)])])}var d={name:"App"},i=n(1241);const c=(0,i.A)(d,[["render",l]]);var s=c,p=n(1387);const h={class:"home"},f={class:"buttons"};function m(e,t,n,o,a,u){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",h,[t[2]||(t[2]=(0,r.Lk)("h3",null,"Bem-vindo(a) à sua vendinha de bolos e tortas!",-1)),(0,r.Lk)("main",f,[(0,r.bF)(l,{to:"/produtos",class:"btn"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Gerenciar Produtos")]))),_:1,__:[0]}),(0,r.bF)(l,{to:"/pedidos",class:"btn"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Gerenciar Pedidos")]))),_:1,__:[1]})])])}var k={name:"HomePage"};const v=(0,i.A)(k,[["render",m],["__scopeId","data-v-662f0700"]]);var b=v,L=n(4232);const w={class:"product-manager"},O=["onClick"];function y(e,t,n,a,u,l){return(0,r.uX)(),(0,r.CE)("div",w,[t[5]||(t[5]=(0,r.Lk)("h2",null,"Gerenciar Produtos",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>l.addProduct&&l.addProduct(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.newProduct.name=e),placeholder:"Nome do produto",required:""},null,512),[[o.Jo,u.newProduct.name]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.newProduct.price=e),type:"number",placeholder:"Preço",required:""},null,512),[[o.Jo,u.newProduct.price,void 0,{number:!0}]]),t[3]||(t[3]=(0,r.Lk)("button",{type:"submit"},"Adicionar",-1))],32),(0,r.Lk)("table",null,[t[4]||(t[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Nome"),(0,r.Lk)("th",null,"Preço"),(0,r.Lk)("th",null,"Ações")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.products,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,L.v_)(e.name),1),(0,r.Lk)("td",null,"R$ "+(0,L.v_)(e.price.toFixed(2)),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:e=>l.confirmDelete(t)},"Excluir",8,O)])])))),128))])])])}var P=n(4373),_=n(4874),g=n.n(_),C={name:"ProductManager",data(){return{products:[],newProduct:{name:"",price:null}}},methods:{async fetchProducts(){const e=await P.A.get("http://localhost:3000/api/products");this.products=e.data},async addProduct(){await P.A.post("http://localhost:3000/api/products",this.newProduct),this.newProduct={name:"",price:null},this.fetchProducts()},async confirmDelete(e){const t=await g().fire({title:"Tem certeza?",text:`Deseja excluir "${this.products[e].name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#aaa",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"});t.isConfirmed&&(await this.deleteProduct(e),await g().fire({title:"Excluído!",text:"O produto foi excluído com sucesso.",icon:"success",timer:1500,showConfirmButton:!1,willClose:()=>{this.fetchProducts()}}))},async deleteProduct(e){await P.A.delete(`http://localhost:3000/api/products/${e}`),this.fetchProducts()}},mounted(){this.fetchProducts()}};const x=(0,i.A)(C,[["render",y],["__scopeId","data-v-7b2771f0"]]);var A=x;const E={class:"order-manager"},F=["value"],V=["onUpdate:modelValue","onChange"],q=["onUpdate:modelValue","onChange"],S=["onClick"];function U(e,t,n,a,u,l){return(0,r.uX)(),(0,r.CE)("div",E,[t[10]||(t[10]=(0,r.Lk)("h2",null,"Gerenciar Pedidos",-1)),(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>l.addOrder&&l.addOrder(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.newOrder.flavor=e),required:""},[t[6]||(t[6]=(0,r.Lk)("option",{disabled:"",value:""},"Selecione um sabor",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.products,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.name,value:e.name},(0,L.v_)(e.name),9,F)))),128))],512),[[o.u1,u.newOrder.flavor]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.newOrder.quantity=e),type:"number",placeholder:"Quantidade",required:""},null,512),[[o.Jo,u.newOrder.quantity,void 0,{number:!0}]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>u.newOrder.client=e),placeholder:"Cliente",required:""},null,512),[[o.Jo,u.newOrder.client]]),(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>u.newOrder.paid=e)},null,512),[[o.lH,u.newOrder.paid]]),t[7]||(t[7]=(0,r.eW)(" Pago "))]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>u.newOrder.notes=e),placeholder:"Observações"},null,512),[[o.Jo,u.newOrder.notes]]),t[8]||(t[8]=(0,r.Lk)("button",{type:"submit"},"Adicionar Pedido",-1))],32),(0,r.Lk)("table",null,[t[9]||(t[9]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Sabor"),(0,r.Lk)("th",null,"Quantidade"),(0,r.Lk)("th",null,"Valor"),(0,r.Lk)("th",null,"Cliente"),(0,r.Lk)("th",null,"Pago"),(0,r.Lk)("th",null,"Observações"),(0,r.Lk)("th",null,"Ações")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.orders,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,L.v_)(e.flavor),1),(0,r.Lk)("td",null,(0,L.v_)(e.quantity),1),(0,r.Lk)("td",null,"R$ "+(0,L.v_)(e.total.toFixed(2)),1),(0,r.Lk)("td",null,(0,L.v_)(e.client),1),(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.paid=t,onChange:n=>l.updateOrder(t,{paid:e.paid})},null,40,V),[[o.lH,e.paid]])]),(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.notes=t,onChange:n=>l.updateOrder(t,{notes:e.notes})},null,40,q),[[o.Jo,e.notes]])]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:e=>l.deleteOrder(t)},"Excluir",8,S)])])))),128))])])])}n(8111),n(116);var X={name:"OrderManager",data(){return{products:[],orders:[],newOrder:{flavor:"",quantity:1,client:"",paid:!1,notes:""}}},methods:{async fetchProducts(){const e=await P.A.get("http://localhost:3000/api/products");this.products=e.data},async fetchOrders(){const e=await P.A.get("http://localhost:3000/api/orders");this.orders=e.data},async addOrder(){const e=this.products.find((e=>e.name===this.newOrder.flavor)),t=e.price*this.newOrder.quantity,n={...this.newOrder,total:t};await P.A.post("http://localhost:3000/api/orders",n),this.newOrder={flavor:"",quantity:1,client:"",paid:!1,notes:""},this.fetchOrders()},async updateOrder(e,t){await P.A.put(`http://localhost:3000/api/orders/${e}`,t),this.fetchOrders()},async deleteOrder(e){await P.A.delete(`http://localhost:3000/api/orders/${e}`),this.fetchOrders()}},mounted(){this.fetchProducts(),this.fetchOrders()}};const j=(0,i.A)(X,[["render",U],["__scopeId","data-v-db5d3688"]]);var W=j;const $=[{path:"/",name:"Home",component:b},{path:"/produtos",name:"ProductManager",component:A},{path:"/pedidos",name:"OrderManager",component:W}],B=(0,p.aE)({history:(0,p.LA)(),routes:$});var M=B;(0,o.Ef)(s).use(M).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var u=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var l=!0,d=0;d<o.length;d++)(!1&a||u>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[d])}))?o.splice(d--,1):(l=!1,a<u&&(u=a));if(l){e.splice(c--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,u=o[0],l=o[1],d=o[2],i=0;if(u.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(d)var c=d(n)}for(t&&t(o);i<u.length;i++)a=u[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunksweet_dreams"]=self["webpackChunksweet_dreams"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(6993)}));o=n.O(o)})();
//# sourceMappingURL=app.b836b7dd.js.map